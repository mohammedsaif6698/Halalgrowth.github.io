## ðŸ“ `/app/frontend/src/App.js`

```javascript
import React, { useState, useEffect, createContext, useContext } from 'react';
import { BrowserRouter, Routes, Route, Navigate, Link, useNavigate, useLocation } from 'react-router-dom';
import axios from 'axios';
import './App.css';

const BACKEND_URL = process.env.REACT_APP_BACKEND_URL;
const API = `${BACKEND_URL}/api`;

// Auth Context
const AuthContext = createContext();

const AuthProvider = ({ children }) => {
  const [user, setUser] = useState(null);
  const [loading, setLoading] = useState(true);
  const [token, setToken] = useState(localStorage.getItem('token'));

  useEffect(() => {
    if (token) {
      fetchUser();
    } else {
      setLoading(false);
    }
  }, [token]);

  const fetchUser = async () => {
    try {
      const response = await axios.get(`${API}/auth/me`, {
        headers: { Authorization: `Bearer ${token}` }
      });
      setUser(response.data);
    } catch (error) {
      console.error('Failed to fetch user:', error);
      logout();
    } finally {
      setLoading(false);
    }
  };

  const login = async (email, password) => {
    const response = await axios.post(`${API}/auth/login`, { email, password });
    const { access_token, user: userData } = response.data;
    localStorage.setItem('token', access_token);
    setToken(access_token);
    setUser(userData);
    return userData;
  };

  const register = async (name, email, password, referralCode) => {
    const response = await axios.post(`${API}/auth/register`, { name, email, password });
    const userData = response.data;
    
    // Auto login after registration
    const loginResponse = await axios.post(`${API}/auth/login`, { email, password });
    const { access_token } = loginResponse.data;
    localStorage.setItem('token', access_token);
    setToken(access_token);
    setUser(userData);
    return userData;
  };

  const logout = () => {
    localStorage.removeItem('token');
    setToken(null);
    setUser(null);
  };

  const refreshUser = async () => {
    if (token) {
      await fetchUser();
    }
  };

  return (
    <AuthContext.Provider value={{ user, loading, login, register, logout, token, refreshUser }}>
      {children}
    </AuthContext.Provider>
  );
};

const useAuth = () => useContext(AuthContext);

// Protected Route Component
const ProtectedRoute = ({ children, adminOnly = false }) => {
  const { user, loading } = useAuth();

  if (loading) {
    return <div className="loading">Loading...</div>;
  }

  if (!user) {
    return <Navigate to="/login" />;
  }

  if (adminOnly && !user.is_admin) {
    return <Navigate to="/" />;
  }

  return children;
};

// Navigation Component
const Navigation = () => {
  const { user, logout } = useAuth();
  const navigate = useNavigate();

  const handleLogout = () => {
    logout();
    navigate('/login');
  };

  return (
    <nav className="navbar">
      <div className="container">
        <Link to="/" className="logo">HALAL GROWTH</Link>
        <div className="nav-links">
          {user ? (
            <>
              <Link to="/dashboard">Dashboard</Link>
              {user.is_admin && <Link to="/admin">Admin Panel</Link>}
              <span className="balance">Balance: â‚¹{user.balance.toFixed(2)}</span>
              <button onClick={handleLogout} className="btn-secondary">Logout</button>
            </>
          ) : (
            <>
              <Link to="/login">Login</Link>
              <Link to="/register">Register</Link>
            </>
          )}
        </div>
      </div>
    </nav>
  );
};

// Home Page
const Home = () => {
  const { user } = useAuth();
  const [packages, setPackages] = useState([]);
  const navigate = useNavigate();

  useEffect(() => {
    fetchPackages();
  }, []);

  const fetchPackages = async () => {
    try {
      const response = await axios.get(`${API}/packages`);
      setPackages(response.data);
    } catch (error) {
      console.error('Failed to fetch packages:', error);
    }
  };

  return (
    <div className="home">
      <div className="hero">
        <h1>Welcome to HALAL GROWTH</h1>
        <p>Invest in halal packages and grow your wealth</p>
        {!user && (
          <Link to="/register" className="btn-primary">Get Started</Link>
        )}
      </div>

      <div className="container">
        <h2 className="section-title">Our Investment Packages</h2>
        <div className="packages-grid">
          {packages.map(pkg => (
            <div key={pkg.id} className="package-card">
              <h3>{pkg.name}</h3>
              <div className="price">â‚¹{pkg.price.toFixed(2)}</div>
              {user ? (
                <button 
                  onClick={() => navigate(`/purchase/${pkg.id}`)} 
                  className="btn-primary"
                  data-testid={`buy-package-${pkg.id}`}
                >
                  Buy Now
                </button>
              ) : (
                <Link to="/login" className="btn-primary">Login to Buy</Link>
              )}
            </div>
          ))}
        </div>
      </div>
    </div>
  );
};

// Login Page
const Login = () => {
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');
  const [error, setError] = useState('');
  const { login } = useAuth();
  const navigate = useNavigate();

  const handleSubmit = async (e) => {
    e.preventDefault();
    setError('');
    try {
      await login(email, password);
      navigate('/dashboard');
    } catch (err) {
      setError(err.response?.data?.detail || 'Login failed');
    }
  };

  return (
    <div className="auth-page">
      <div className="auth-card">
        <h2>Login</h2>
        {error && <div className="error">{error}</div>}
        <form onSubmit={handleSubmit}>
          <input
            type="email"
            placeholder="Email"
            value={email}
            onChange={(e) => setEmail(e.target.value)}
            required
            data-testid="login-email"
          />
          <input
            type="password"
            placeholder="Password"
            value={password}
            onChange={(e) => setPassword(e.target.value)}
            required
            data-testid="login-password"
          />
          <button type="submit" className="btn-primary" data-testid="login-submit">Login</button>
        </form>
        <p className="auth-link">
          Don't have an account? <Link to="/register">Register</Link>
        </p>
      </div>
    </div>
  );
};

// Register Page
const Register = () => {
  const [name, setName] = useState('');
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');
  const [error, setError] = useState('');
  const { register } = useAuth();
  const navigate = useNavigate();
  const location = useLocation();

  const referralCode = new URLSearchParams(location.search).get('ref');

  const handleSubmit = async (e) => {
    e.preventDefault();
    setError('');
    try {
      await register(name, email, password, referralCode);
      navigate('/dashboard');
    } catch (err) {
      setError(err.response?.data?.detail || 'Registration failed');
    }
  };

  return (
    <div className="auth-page">
      <div className="auth-card">
        <h2>Register</h2>
        {referralCode && (
          <div className="info-box">Registering with referral code: {referralCode}</div>
        )}
        {error && <div className="error">{error}</div>}
        <form onSubmit={handleSubmit}>
          <input
            type="text"
            placeholder="Name"
            value={name}
            onChange={(e) => setName(e.target.value)}
            required
            data-testid="register-name"
          />
          <input
            type="email"
            placeholder="Email"
            value={email}
            onChange={(e) => setEmail(e.target.value)}
            required
            data-testid="register-email"
          />
          <input
            type="password"
            placeholder="Password"
            value={password}
            onChange={(e) => setPassword(e.target.value)}
            required
            data-testid="register-password"
          />
          <button type="submit" className="btn-primary" data-testid="register-submit">Register</button>
        </form>
        <p className="auth-link">
          Already have an account? <Link to="/login">Login</Link>
        </p>
      </div>
    </div>
  );
};

// Dashboard Page (Continue in next part due to length...)
ðŸ“Â /app/frontend/src/App.jsÂ (Continued)

// ... (previous code above) // Dashboard Page const Dashboard = () => { const { user, token, refreshUser } = useAuth(); const [purchases, setPurchases] = useState([]); const [referralStats, setReferralStats] = useState(null); const [transactions, setTransactions] = useState([]); const [activeTab, setActiveTab] = useState('overview'); const navigate = useNavigate(); useEffect(() => { fetchData(); }, []); const fetchData = async () => { try { const [purchasesRes, referralRes, transactionsRes] = await Promise.all([ axios.get(`${API}/purchases`, { headers: { Authorization: `Bearer ${token}` } }), axios.get(`${API}/user/referrals`, { headers: { Authorization: `Bearer ${token}` } }), axios.get(`${API}/user/transactions`, { headers: { Authorization: `Bearer ${token}` } }) ]); setPurchases(purchasesRes.data); setReferralStats(referralRes.data); setTransactions(transactionsRes.data); await refreshUser(); } catch (error) { console.error('Failed to fetch data:', error); } }; const copyReferralLink = () => { navigator.clipboard.writeText(referralStats.referral_link); alert('Referral link copied to clipboard!'); }; return ( <div className="dashboard"> <div className="container"> <h1>Dashboard</h1> <div className="dashboard-stats"> <div className="stat-card"> <div className="stat-label">Total Balance</div> <div className="stat-value">â‚¹{user.balance.toFixed(2)}</div> </div> <div className="stat-card"> <div className="stat-label">Total Purchases</div> <div className="stat-value">{purchases.length}</div> </div> <div className="stat-card"> <div className="stat-label">Total Referrals</div> <div className="stat-value">{referralStats?.total_referrals || 0}</div> </div> <div className="stat-card"> <div className="stat-label">Referral Earnings</div> <div className="stat-value">â‚¹{referralStats?.total_earnings.toFixed(2) || '0.00'}</div> </div> </div> <div className="dashboard-tabs"> <button className={activeTab === 'overview' ? 'active' : ''} onClick={() => setActiveTab('overview')} > Overview </button> <button className={activeTab === 'purchases' ? 'active' : ''} onClick={() => setActiveTab('purchases')} > Purchases </button> <button className={activeTab === 'referrals' ? 'active' : ''} onClick={() => setActiveTab('referrals')} > Referrals </button> <button className={activeTab === 'transactions' ? 'active' : ''} onClick={() => setActiveTab('transactions')} > Transactions </button> <button className={activeTab === 'withdraw' ? 'active' : ''} onClick={() => setActiveTab('withdraw')} > Withdraw </button> </div> <div className="dashboard-content"> {activeTab === 'overview' && ( <div> <h2>Welcome, {user.name}!</h2> <div className="quick-actions"> <button onClick={() => navigate('/')} className="btn-primary">Browse Packages</button> <button onClick={() => setActiveTab('withdraw')} className="btn-secondary">Withdraw Funds</button> </div> </div> )} {activeTab === 'purchases' && ( <div> <h2>My Purchases</h2> <div className="table-container"> <table> <thead> <tr> <th>Package</th> <th>Amount</th> <th>Status</th> <th>Date</th> </tr> </thead> <tbody> {purchases.map(purchase => ( <tr key={purchase.id}> <td>{purchase.package_name}</td> <td>â‚¹{purchase.amount.toFixed(2)}</td> <td> <span className={`status ${purchase.status}`}> {purchase.status} </span> </td> <td>{new Date(purchase.created_at).toLocaleDateString()}</td> </tr> ))} </tbody> </table> </div> </div> )} {activeTab === 'referrals' && referralStats && ( <div> <h2>Referral Program</h2> <div className="referral-box"> <div className="referral-code"> <label>Your Referral Code:</label> <div className="code">{referralStats.referral_code}</div> </div> <div className="referral-link"> <label>Your Referral Link:</label> <div className="link-box"> <input type="text" value={referralStats.referral_link} readOnly /> <button onClick={copyReferralLink} className="btn-secondary">Copy</button> </div> </div> </div> <h3>Referred Users ({referralStats.referrals.length})</h3> <div className="table-container"> <table> <thead> <tr> <th>Name</th> <th>Email</th> <th>Joined Date</th> </tr> </thead> <tbody> {referralStats.referrals.map((ref, idx) => ( <tr key={idx}> <td>{ref.name}</td> <td>{ref.email}</td> <td>{new Date(ref.joined_at).toLocaleDateString()}</td> </tr> ))} </tbody> </table> </div> </div> )} {activeTab === 'transactions' && ( <div> <h2>Transaction History</h2> <div className="table-container"> <table> <thead> <tr> <th>Type</th> <th>Amount</th> <th>Details</th> <th>Date</th> </tr> </thead> <tbody> {transactions.map(txn => ( <tr key={txn.id}> <td>{txn.type.replace('_', ' ')}</td> <td className={txn.type === 'withdrawal' ? 'negative' : 'positive'}> {txn.type === 'withdrawal' ? '-' : '+'}â‚¹{txn.amount.toFixed(2)} </td> <td>{txn.details}</td> <td>{new Date(txn.timestamp).toLocaleString()}</td> </tr> ))} </tbody> </table> </div> </div> )} {activeTab === 'withdraw' && ( <WithdrawTab user={user} token={token} refreshUser={refreshUser} /> )} </div> </div> </div> ); }; // Withdraw Tab Component const WithdrawTab = ({ user, token, refreshUser }) => { const [bankDetails, setBankDetails] = useState(user.bank_details || null); const [upiDetails, setUpiDetails] = useState(user.upi_details || null); const [showBankForm, setShowBankForm] = useState(false); const [showUpiForm, setShowUpiForm] = useState(false); const [withdrawMethod, setWithdrawMethod] = useState(''); const [withdrawAmount, setWithdrawAmount] = useState(''); const [message, setMessage] = useState(''); const [error, setError] = useState(''); const handleSaveBankDetails = async (e) => { e.preventDefault(); const formData = new FormData(e.target); const details = { account_number: formData.get('account_number'), ifsc_code: formData.get('ifsc_code'), account_holder_name: formData.get('account_holder_name') }; try { await axios.post(`${API}/user/bank`, details, { headers: { Authorization: `Bearer ${token}` } }); setBankDetails(details); setShowBankForm(false); setMessage('Bank details saved successfully'); } catch (err) { setError('Failed to save bank details'); } }; const handleSaveUpiDetails = async (e) => { e.preventDefault(); const formData = new FormData(e.target); const details = { vpa: formData.get('vpa') }; try { await axios.post(`${API}/user/upi`, details, { headers: { Authorization: `Bearer ${token}` } }); setUpiDetails(details); setShowUpiForm(false); setMessage('UPI details saved successfully'); } catch (err) { setError('Failed to save UPI details'); } }; const handleWithdraw = async (e) => { e.preventDefault(); setError(''); setMessage(''); if (!withdrawAmount || parseFloat(withdrawAmount) <= 0) { setError('Please enter a valid amount'); return; } if (parseFloat(withdrawAmount) > user.balance) { setError('Insufficient balance'); return; } if (!withdrawMethod) { setError('Please select a withdrawal method'); return; } try { const response = await axios.post( `${API}/withdraw`, { amount: parseFloat(withdrawAmount), method: withdrawMethod }, { headers: { Authorization: `Bearer ${token}` } } ); setMessage(response.data.message); setWithdrawAmount(''); setWithdrawMethod(''); await refreshUser(); } catch (err) { setError(err.response?.data?.detail || 'Withdrawal failed'); } }; return ( <div> <h2>Withdraw Funds</h2> {message && <div className="success-message">{message}</div>} {error && <div className="error">{error}</div>} <div className="withdraw-section"> <div className="payment-methods"> <h3>Payment Methods</h3> <div className="method-card"> <h4>Bank Account</h4> {bankDetails ? ( <div className="details"> <p><strong>Account Number:</strong> {bankDetails.account_number}</p> <p><strong>IFSC Code:</strong> {bankDetails.ifsc_code}</p> <p><strong>Account Holder:</strong> {bankDetails.account_holder_name}</p> <button onClick={() => setShowBankForm(true)} className="btn-secondary">Update</button> </div> ) : ( <button onClick={() => setShowBankForm(true)} className="btn-primary">Add Bank Account</button> )} </div> <div className="method-card"> <h4>UPI Details</h4> {upiDetails ? ( <div className="details"> <p><strong>UPI ID:</strong> {upiDetails.vpa}</p> <button onClick={() => setShowUpiForm(true)} className="btn-secondary">Update</button> </div> ) : ( <button onClick={() => setShowUpiForm(true)} className="btn-primary">Add UPI Details</button> )} </div> </div> {showBankForm && ( <div className="modal"> <div className="modal-content"> <h3>Add/Update Bank Details</h3> <form onSubmit={handleSaveBankDetails}> <input type="text" name="account_number" placeholder="Account Number" required /> <input type="text" name="ifsc_code" placeholder="IFSC Code" required /> <input type="text" name="account_holder_name" placeholder="Account Holder Name" required /> <div className="modal-actions"> <button type="submit" className="btn-primary">Save</button> <button type="button" onClick={() => setShowBankForm(false)} className="btn-secondary">Cancel</button> </div> </form> </div> </div> )} {showUpiForm && ( <div className="modal"> <div className="modal-content"> <h3>Add/Update UPI Details</h3> <form onSubmit={handleSaveUpiDetails}> <input type="text" name="vpa" placeholder="UPI ID (e.g., yourname@paytm)" required /> <div className="modal-actions"> <button type="submit" className="btn-primary">Save</button> <button type="button" onClick={() => setShowUpiForm(false)} className="btn-secondary">Cancel</button> </div> </form> </div> </div> )} <div className="withdraw-form"> <h3>Withdraw Money</h3> <form onSubmit={handleWithdraw}> <div className="form-group"> <label>Amount (â‚¹)</label> <input type="number" step="0.01" value={withdrawAmount} onChange={(e) => setWithdrawAmount(e.target.value)} placeholder="Enter amount" required /> </div> <div className="form-group"> <label>Withdrawal Method</label> <select value={withdrawMethod} onChange={(e) => setWithdrawMethod(e.target.value)} required> <option value="">Select method</option> {bankDetails && <option value="bank">Bank Transfer</option>} {upiDetails && <option value="upi">UPI Transfer</option>} </select> </div> <button type="submit" className="btn-primary" data-testid="withdraw-submit">Withdraw</button> </form> <p className="note">Note: Withdrawals are processed using MOCKED Cashfree integration</p> </div> </div> </div> ); }; // Purchase Page const PurchasePage = () => { const { user, token, refreshUser } = useAuth(); const { id } = useLocation().pathname.split('/').pop(); const [packageData, setPackageData] = useState(null); const [file, setFile] = useState(null); const [referralCode, setReferralCode] = useState(''); const [message, setMessage] = useState(''); const [error, setError] = useState(''); const navigate = useNavigate(); useEffect(() => { fetchPackage(); }, []); const fetchPackage = async () => { try { const response = await axios.get(`${API}/packages`); const pkg = response.data.find(p => p.id === id); setPackageData(pkg); } catch (err) { console.error('Failed to fetch package:', err); } }; const handleSubmit = async (e) => { e.preventDefault(); setError(''); setMessage(''); if (!file) { setError('Please upload UPI payment screenshot'); return; } const formData = new FormData(); formData.append('upi_screenshot', file); try { const url = referralCode ? `${API}/purchase/${id}?referral_code=${referralCode}` : `${API}/purchase/${id}`; const response = await axios.post(url, formData, { headers: { Authorization: `Bearer ${token}`, 'Content-Type': 'multipart/form-data' } }); setMessage(response.data.message); setTimeout(() => { navigate('/dashboard'); }, 2000); } catch (err) { setError(err.response?.data?.detail || 'Purchase failed'); } }; if (!packageData) return <div className="loading">Loading...</div>; return ( <div className="purchase-page"> <div className="container"> <div className="purchase-card"> <h2>Purchase {packageData.name}</h2> <div className="package-details"> <p className="price">Amount: â‚¹{packageData.price.toFixed(2)}</p> </div> {message && <div className="success-message">{message}</div>} {error && <div className="error">{error}</div>} <form onSubmit={handleSubmit}> <div className="form-group"> <label>Referral Code (Optional)</label> <input type="text" value={referralCode} onChange={(e) => setReferralCode(e.target.value)} placeholder="Enter referral code if you have one" /> </div> <div className="form-group"> <label>Upload UPI Payment Screenshot *</label> <input type="file" accept="image/*" onChange={(e) => setFile(e.target.files[0])} required data-testid="upi-screenshot-upload" /> </div> <div className="payment-info"> <p><strong>Payment Instructions:</strong></p> <ol> <li>Make payment of â‚¹{packageData.price.toFixed(2)} via UPI</li> <li>Take a screenshot of the payment confirmation</li> <li>Upload the screenshot above</li> <li>Payment will be verified within 2 hours</li> </ol> </div> <button type="submit" className="btn-primary" data-testid="purchase-submit">Complete Purchase</button> </form> </div> </div> </div> ); }; // Admin Panel const AdminPanel = () => { const { token, refreshUser } = useAuth(); const [packages, setPackages] = useState([]); const [purchases, setPurchases] = useState([]); const [showPackageForm, setShowPackageForm] = useState(false); const [editingPackage, setEditingPackage] = useState(null); const [message, setMessage] = useState(''); const [error, setError] = useState(''); useEffect(() => { fetchData(); }, []); const fetchData = async () => { try { const [packagesRes, purchasesRes] = await Promise.all([ axios.get(`${API}/packages`), axios.get(`${API}/purchases/all`, { headers: { Authorization: `Bearer ${token}` } }) ]); setPackages(packagesRes.data); setPurchases(purchasesRes.data); } catch (err) { console.error('Failed to fetch data:', err); } }; const handleSavePackage = async (e) => { e.preventDefault(); const formData = new FormData(e.target); const packageData = { name: formData.get('name'), price: parseFloat(formData.get('price')) }; try { if (editingPackage) { await axios.put(`${API}/packages/${editingPackage.id}`, packageData, { headers: { Authorization: `Bearer ${token}` } }); setMessage('Package updated successfully'); } else { await axios.post(`${API}/packages`, packageData, { headers: { Authorization: `Bearer ${token}` } }); setMessage('Package created successfully'); } setShowPackageForm(false); setEditingPackage(null); await fetchData(); } catch (err) { setError('Failed to save package'); } }; const handleDeletePackage = async (id) => { if (!window.confirm('Are you sure you want to delete this package?')) return; try { await axios.delete(`${API}/packages/${id}`, { headers: { Authorization: `Bearer ${token}` } }); setMessage('Package deleted successfully'); await fetchData(); } catch (err) { setError('Failed to delete package'); } }; const handleVerifyPurchase = async (id) => { try { await axios.post(`${API}/purchases/${id}/verify`, {}, { headers: { Authorization: `Bearer ${token}` } }); setMessage('Purchase verified successfully'); await fetchData(); await refreshUser(); } catch (err) { setError(err.response?.data?.detail || 'Failed to verify purchase'); } }; return ( <div className="admin-panel"> <div className="container"> <h1>Admin Panel</h1> {message && <div className="success-message">{message}</div>} {error && <div className="error">{error}</div>} <div className="admin-section"> <div className="section-header"> <h2>Packages</h2> <button onClick={() => { setShowPackageForm(true); setEditingPackage(null); }} className="btn-primary" data-testid="add-package-btn" > Add Package </button> </div> <div className="table-container"> <table> <thead> <tr> <th>Name</th> <th>Price</th> <th>Created</th> <th>Actions</th> </tr> </thead> <tbody> {packages.map(pkg => ( <tr key={pkg.id}> <td>{pkg.name}</td> <td>â‚¹{pkg.price.toFixed(2)}</td> <td>{new Date(pkg.created_at).toLocaleDateString()}</td> <td> <button onClick={() => { setEditingPackage(pkg); setShowPackageForm(true); }} className="btn-secondary" > Edit </button> <button onClick={() => handleDeletePackage(pkg.id)} className="btn-danger" > Delete </button> </td> </tr> ))} </tbody> </table> </div> </div> <div className="admin-section"> <h2>Recent Purchases</h2> <div className="table-container"> <table> <thead> <tr> <th>Package</th> <th>Amount</th> <th>Status</th> <th>Date</th> <th>Actions</th> </tr> </thead> <tbody> {purchases.map(purchase => ( <tr key={purchase.id}> <td>{purchase.package_name}</td> <td>â‚¹{purchase.amount.toFixed(2)}</td> <td> <span className={`status ${purchase.status}`}> {purchase.status} </span> </td> <td>{new Date(purchase.created_at).toLocaleDateString()}</td> <td> {purchase.status === 'pending' && ( <button onClick={() => handleVerifyPurchase(purchase.id)} className="btn-primary" data-testid={`verify-purchase-${purchase.id}`} > Verify </button> )} </td> </tr> ))} </tbody> </table> </div> </div> {showPackageForm && ( <div className="modal"> <div className="modal-content"> <h3>{editingPackage ? 'Edit Package' : 'Add Package'}</h3> <form onSubmit={handleSavePackage}> <input type="text" name="name" placeholder="Package Name" defaultValue={editingPackage?.name} required data-testid="package-name-input" /> <input type="number" step="0.01" name="price" placeholder="Price" defaultValue={editingPackage?.price} required data-testid="package-price-input" /> <div className="modal-actions"> <button type="submit" className="btn-primary" data-testid="save-package-btn">Save</button> <button type="button" onClick={() => { setShowPackageForm(false); setEditingPackage(null); }} className="btn-secondary" > Cancel </button> </div> </form> </div> </div> )} </div> </div> ); }; // Main App Component function App() { return ( <AuthProvider> <BrowserRouter> <div className="App"> <Navigation /> <Routes> <Route path="/" element={<Home />} /> <Route path="/login" element={<Login />} /> <Route path="/register" element={<Register />} /> <Route path="/dashboard" element={ <ProtectedRoute> <Dashboard /> </ProtectedRoute> } /> <Route path="/purchase/:id" element={ <ProtectedRoute> <PurchasePage /> </ProtectedRoute> } /> <Route path="/admin" element={ <ProtectedRoute adminOnly> <AdminPanel /> </ProtectedRoute> } /> </Routes> </div> </BrowserRouter> </AuthProvider> ); } export default App; 

ðŸ“Â /app/frontend/src/App.css

* { margin: 0; padding: 0; box-sizing: border-box; } body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; } .App { min-height: 100vh; } /* Navigation */ .navbar { background: rgba(255, 255, 255, 0.95); padding: 1rem 0; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1); position: sticky; top: 0; z-index: 1000; } .navbar .container { display: flex; justify-content: space-between; align-items: center; } .logo { font-size: 1.5rem; font-weight: bold; color: #667eea; text-decoration: none; } .nav-links { display: flex; gap: 1.5rem; align-items: center; } .nav-links a { color: #333; text-decoration: none; transition: color 0.3s; } .nav-links a:hover { color: #667eea; } .balance { background: #667eea; color: white; padding: 0.5rem 1rem; border-radius: 20px; font-weight: 600; } /* Container */ .container { max-width: 1200px; margin: 0 auto; padding: 0 2rem; } /* Buttons */ .btn-primary { background: #667eea; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 8px; font-size: 1rem; cursor: pointer; transition: all 0.3s; text-decoration: none; display: inline-block; font-weight: 600; } .btn-primary:hover { background: #5568d3; transform: translateY(-2px); box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4); } .btn-secondary { background: #6c757d; color: white; border: none; padding: 0.5rem 1rem; border-radius: 6px; font-size: 0.9rem; cursor: pointer; transition: all 0.3s; margin-left: 0.5rem; } .btn-secondary:hover { background: #5a6268; } .btn-danger { background: #dc3545; color: white; border: none; padding: 0.5rem 1rem; border-radius: 6px; font-size: 0.9rem; cursor: pointer; transition: all 0.3s; margin-left: 0.5rem; } .btn-danger:hover { background: #c82333; } /* Hero Section */ .hero { text-align: center; padding: 4rem 2rem; color: white; } .hero h1 { font-size: 3rem; margin-bottom: 1rem; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2); } .hero p { font-size: 1.3rem; margin-bottom: 2rem; opacity: 0.95; } /* Packages Grid */ .section-title { text-align: center; font-size: 2rem; margin: 3rem 0 2rem; color: white; } .packages-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 2rem; padding: 2rem 0; } .package-card { background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1); text-align: center; transition: transform 0.3s; } .package-card:hover { transform: translateY(-5px); box-shadow: 0 6px 30px rgba(0, 0, 0, 0.15); } .package-card h3 { color: #333; margin-bottom: 1rem; font-size: 1.5rem; } .price { font-size: 2rem; color: #667eea; font-weight: bold; margin: 1rem 0; } /* Auth Pages */ .auth-page { display: flex; justify-content: center; align-items: center; min-height: calc(100vh - 80px); padding: 2rem; } .auth-card { background: white; padding: 3rem; border-radius: 12px; box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2); width: 100%; max-width: 400px; } .auth-card h2 { color: #333; margin-bottom: 2rem; text-align: center; } .auth-card form { display: flex; flex-direction: column; gap: 1rem; } .auth-card input { padding: 0.75rem; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 1rem; transition: border-color 0.3s; } .auth-card input:focus { outline: none; border-color: #667eea; } .auth-link { text-align: center; margin-top: 1rem; color: #666; } .auth-link a { color: #667eea; text-decoration: none; font-weight: 600; } /* Dashboard */ .dashboard { padding: 2rem 0; } .dashboard h1 { color: white; margin-bottom: 2rem; } .dashboard-stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; margin-bottom: 2rem; } .stat-card { background: white; padding: 1.5rem; border-radius: 12px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1); } .stat-label { color: #666; font-size: 0.9rem; margin-bottom: 0.5rem; } .stat-value { color: #667eea; font-size: 2rem; font-weight: bold; } .dashboard-tabs { display: flex; gap: 1rem; margin-bottom: 2rem; flex-wrap: wrap; } .dashboard-tabs button { background: rgba(255, 255, 255, 0.9); color: #333; border: none; padding: 0.75rem 1.5rem; border-radius: 8px; cursor: pointer; transition: all 0.3s; font-weight: 600; } .dashboard-tabs button.active { background: #667eea; color: white; } .dashboard-tabs button:hover { background: #667eea; color: white; } .dashboard-content { background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1); } .dashboard-content h2 { color: #333; margin-bottom: 1.5rem; } .quick-actions { display: flex; gap: 1rem; margin-top: 1rem; } /* Tables */ .table-container { overflow-x: auto; margin-top: 1rem; } table { width: 100%; border-collapse: collapse; } th { background: #f8f9fa; padding: 1rem; text-align: left; font-weight: 600; color: #333; border-bottom: 2px solid #e0e0e0; } td { padding: 1rem; border-bottom: 1px solid #e0e0e0; color: #666; } tr:hover { background: #f8f9fa; } .status { padding: 0.25rem 0.75rem; border-radius: 12px; font-size: 0.85rem; font-weight: 600; text-transform: uppercase; } .status.pending { background: #fff3cd; color: #856404; } .status.verified { background: #d4edda; color: #155724; } .positive { color: #28a745; font-weight: 600; } .negative { color: #dc3545; font-weight: 600; } /* Referral Box */ .referral-box { background: #f8f9fa; padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem; } .referral-code, .referral-link { margin-bottom: 1rem; } .referral-code label, .referral-link label { display: block; font-weight: 600; color: #333; margin-bottom: 0.5rem; } .code { font-size: 1.5rem; font-weight: bold; color: #667eea; font-family: monospace; } .link-box { display: flex; gap: 0.5rem; } .link-box input { flex: 1; padding: 0.5rem; border: 2px solid #e0e0e0; border-radius: 6px; font-size: 0.9rem; } /* Purchase Page */ .purchase-page { padding: 2rem 0; min-height: calc(100vh - 80px); } .purchase-card { background: white; padding: 3rem; border-radius: 12px; box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2); max-width: 600px; margin: 0 auto; } .purchase-card h2 { color: #333; margin-bottom: 1.5rem; } .package-details { background: #f8f9fa; padding: 1.5rem; border-radius: 8px; margin-bottom: 1.5rem; } .package-details .price { color: #667eea; font-size: 1.8rem; } .form-group { margin-bottom: 1.5rem; } .form-group label { display: block; font-weight: 600; color: #333; margin-bottom: 0.5rem; } .form-group input, .form-group select { width: 100%; padding: 0.75rem; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 1rem; } .form-group input:focus, .form-group select:focus { outline: none; border-color: #667eea; } .payment-info { background: #e7f3ff; padding: 1rem; border-radius: 8px; margin: 1rem 0; } .payment-info p { color: #333; margin-bottom: 0.5rem; } .payment-info ol { margin-left: 1.5rem; color: #666; } .payment-info ol li { margin-bottom: 0.5rem; } /* Withdraw Section */ .withdraw-section { display: grid; gap: 2rem; } .payment-methods { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; } .method-card { background: #f8f9fa; padding: 1.5rem; border-radius: 8px; border: 2px solid #e0e0e0; } .method-card h4 { color: #333; margin-bottom: 1rem; } .method-card .details { margin-top: 1rem; } .method-card .details p { color: #666; margin-bottom: 0.5rem; } .withdraw-form { background: #f8f9fa; padding: 2rem; border-radius: 8px; } .withdraw-form h3 { color: #333; margin-bottom: 1.5rem; } .note { margin-top: 1rem; color: #856404; background: #fff3cd; padding: 0.75rem; border-radius: 6px; font-size: 0.9rem; } /* Admin Panel */ .admin-panel { padding: 2rem 0; } .admin-panel h1 { color: white; margin-bottom: 2rem; } .admin-section { background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1); margin-bottom: 2rem; } .section-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; } .section-header h2 { color: #333; } /* Modal */ .modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.7); display: flex; justify-content: center; align-items: center; z-index: 2000; } .modal-content { background: white; padding: 2rem; border-radius: 12px; max-width: 500px; width: 90%; max-height: 90vh; overflow-y: auto; } .modal-content h3 { color: #333; margin-bottom: 1.5rem; } .modal-content form { display: flex; flex-direction: column; gap: 1rem; } .modal-content input, .modal-content select { padding: 0.75rem; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 1rem; } .modal-content input:focus { outline: none; border-color: #667eea; } .modal-actions { display: flex; gap: 1rem; margin-top: 1rem; } /* Messages */ .error { background: #f8d7da; color: #721c24; padding: 1rem; border-radius: 8px; margin-bottom: 1rem; border: 1px solid #f5c6cb; } .success-message { background: #d4edda; color: #155724; padding: 1rem; border-radius: 8px; margin-bottom: 1rem; border: 1px solid #c3e6cb; } .info-box { background: #d1ecf1; color: #0c5460; padding: 1rem; border-radius: 8px; margin-bottom: 1rem; border: 1px solid #bee5eb; } /* Loading */ .loading { display: flex; justify-content: center; align-items: center; min-height: 50vh; font-size: 1.5rem; color: white; } /* Responsive */ @media (max-width: 768px) { .navbar .container { flex-direction: column; gap: 1rem; } .nav-links { flex-wrap: wrap; justify-content: center; } .hero h1 { font-size: 2rem; } .packages-grid { grid-template-columns: 1fr; } .dashboard-stats { grid-template-columns: 1fr; } .dashboard-tabs { flex-direction: column; } .dashboard-tabs button { width: 100%; } .quick-actions { flex-direction: column; } .quick-actions button { width: 100%; } .payment-methods { grid-template-columns: 1fr; } } 

ðŸ“Â /app/frontend/.env

REACT_APP_BACKEND_URL=https://invest-halal.preview.emergentagent.com WDS_SOCKET_PORT=443 ENABLE_HEALTH_CHECK=false 

ðŸ“Â /app/frontend/package.json

{ "name": "frontend", "version": "0.1.0", "private": true, "dependencies": { "@hookform/resolvers": "^5.0.1", "@radix-ui/react-accordion": "^1.2.8", "@radix-ui/react-alert-dialog": "^1.1.11", "@radix-ui/react-aspect-ratio": "^1.1.4", "@radix-ui/react-avatar": "^1.1.7", "@radix-ui/react-checkbox": "^1.2.3", "@radix-ui/react-collapsible": "^1.1.8", "@radix-ui/react-context-menu": "^2.2.12", "@radix-ui/react-dialog": "^1.1.11", "@radix-ui/react-dropdown-menu": "^2.1.12", "@radix-ui/react-hover-card": "^1.1.11", "@radix-ui/react-label": "^2.1.4", "@radix-ui/react-menubar": "^1.1.12", "@radix-ui/react-navigation-menu": "^1.2.10", "@radix-ui/react-popover": "^1.1.11", "@radix-ui/react-progress": "^1.1.4", "@radix-ui/react-radio-group": "^1.3.4", "@radix-ui/react-scroll-area": "^1.2.6", "@radix-ui/react-select": "^2.2.2", "@radix-ui/react-separator": "^1.1.4", "@radix-ui/react-slider": "^1.3.2", "@radix-ui/react-slot": "^1.2.0", "@radix-ui/react-switch": "^1.2.2", "@radix-ui/react-tabs": "^1.1.9", "@radix-ui/react-toast": "^1.2.11", "@radix-ui/react-toggle": "^1.1.6", "@radix-ui/react-toggle-group": "^1.1.7", "@radix-ui/react-tooltip": "^1.2.4", "axios": "^1.8.4", "class-variance-authority": "^0.7.1", "clsx": "^2.1.1", "cmdk": "^1.1.1", "cra-template": "1.2.0", "date-fns": "^4.1.0", "embla-carousel-react": "^8.6.0", "input-otp": "^1.4.2", "lucide-react": "^0.507.0", "next-themes": "^0.4.6", "react": "^19.0.0", "react-day-picker": "8.10.1", "react-dom": "^19.0.0", "react-hook-form": "^7.56.2", "react-resizable-panels": "^3.0.1", "react-router-dom": "^7.5.1", "react-scripts": "5.0.1", "recharts": "^3.6.0", "sonner": "^2.0.3", "tailwind-merge": "^3.2.0", "tailwindcss-animate": "^1.0.7", "vaul": "^1.1.2", "zod": "^3.24.4" }, "scripts": { "start": "craco start", "build": "craco build", "test": "craco test" }, "browserslist": { "production": [ ">0.2%", "not dead", "not op_mini all" ], "development": [ "last 1 chrome version", "last 1 firefox version", "last 1 safari version" ] }, "devDependencies": { "@babel/plugin-proposal-private-property-in-object": "^7.21.11", "@craco/craco": "^7.1.0", "@eslint/js": "9.23.0", "autoprefixer": "^10.4.20", "eslint": "9.23.0", "eslint-plugin-import": "2.31.0", "eslint-plugin-jsx-a11y": "6.10.2", "eslint-plugin-react": "7.37.4", "eslint-plugin-react-hooks": "5.2.0", "globals": "15.15.0", "postcss": "^8.4.49", "tailwindcss": "^3.4.17" }, "packageManager": "yarn@1.22.22+sha512.a6b2f7906b721bba3d67d4aff083df04dad64c399707841b7acf00f6b133b7ac24255f2652fa22ae3534329dc6180534e98d17432037ff6fd140556e2bb3137e" }